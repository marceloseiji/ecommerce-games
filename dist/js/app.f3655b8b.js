(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/ecommerce-games/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"11d6":function(t,e,r){t.exports=r.p+"img/the-witcher-iii-wild-hunt.1d707379.png"},1771:function(t,e,r){var n={"./arrow-down-icon.svg":"436c","./call-of-duty-infinite-warfare.png":"df89","./call-of-duty-wwii.png":"41e3","./cart-icon.svg":"3cad","./fifa-18.png":"221d","./horizon-zero-dawn.png":"b37f","./logo.png":"cf05","./mortal-kombat-xl.png":"b6cb","./shards-of-darkness.png":"fa9f","./super-mario-odyssey.png":"8ebe","./terra-media-sombras-de-mordor.png":"2ce5","./the-witcher-iii-wild-hunt.png":"11d6"};function a(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id="1771"},"221d":function(t,e,r){t.exports=r.p+"img/fifa-18.2e9e3fb3.png"},"2ce5":function(t,e,r){t.exports=r.p+"img/terra-media-sombras-de-mordor.aecd10c4.png"},"334a":function(t,e,r){},"3cad":function(t,e,r){t.exports=r.p+"img/cart-icon.c519f830.svg"},"41e3":function(t,e,r){t.exports=r.p+"img/call-of-duty-wwii.cbc73160.png"},4251:function(t,e,r){},"436c":function(t,e,r){t.exports=r.p+"img/arrow-down-icon.f8a2d1e5.svg"},"56d7":function(t,e,r){"use strict";r.r(e),r.d(e,"bus",(function(){return H}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Home")],1)},i=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container home"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12 col-md-9"},[r("div",{staticClass:"row"},[t._m(0),r("div",{staticClass:"col-sm-12 col-md-6 dropdown-holder"},[r("Dropdown")],1)]),r("GameCard")],1),r("div",{staticClass:"col-sm-12 col-md-3"},[r("Cart")],1)])])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-12 col-md-6 title-holder"},[r("h1",{staticClass:"title"},[t._v("Games")])])}],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},t._l(t.items,(function(e){return n("div",{key:e.id,staticClass:"col-sm-12 col-md-6 col-lg-4",attrs:{id:e.id},on:{click:function(r){return t.callAdd(e.id,e.name,e.price,e.image)}}},[n("a",{staticClass:"card-link"},[n("b-card",{staticClass:"mb-2 game-card",staticStyle:{"max-width":"20rem"},attrs:{"img-alt":"Image","img-top":"",tag:"article"}},[n("div",{staticClass:"img-holder"},[n("img",{attrs:{src:r("1771")("./"+e.image)}})]),n("h4",{staticClass:"card-title"},[t._v(t._s(e.name))]),n("b-card-text",{staticClass:"message"},[t._v("Adicionar ao carrinho")]),n("b-card-text",{staticClass:"price"},[t._v("R$ "+t._s(e.price))])],1)],1)])})),0)},l=[],u=(r("b0c0"),{name:"GameCard",props:{},data:function(){return{items:null,showThis:null,itemsVector:[],game:{id:null,name:null,price:null,image:null},cart:[],browserCart:null}},methods:{showAll:function(){var t=this;this.$controllers.getAll().then((function(e){if(e.error)throw new Error(e.error);t.itemsVector=e,Object.assign({},e),t.items=e,console.info("Items loaded")}))},callAdd:function(t,e,r,n){this.game.id=t,this.game.name=e,this.game.price=r,this.game.image=n,H.$emit("addToCartBusEvent",this.game),this.$bvToast.toast("foi adicionado ao carrinho",{title:this.game.name,variant:"success",toaster:"b-toaster-top-center"})},sortElements:function(t){switch(t){case"Ordem alfabética":this.itemsVector.sort((function(t,e){var r=0;return t.name>e.name?r=1:t.name<e.name&&(r=-1),r}));break;case"Popularidade":this.itemsVector.sort((function(t,e){var r=0,n=parseInt(t.score),a=parseInt(e.score);return n<a?r=1:n>a&&(r=-1),r}));break;case"Preço":this.itemsVector.sort((function(t,e){var r=0,n=parseInt(t.price),a=parseInt(e.price);return n>a?r=1:n<a&&(r=-1),r}));break;default:console.log("Nothing changed")}this.items=Object.assign({},this.itemsVector)}},created:function(){var t=this;H.$on("SortElements",(function(e){t.sortElements(e)}))},mounted:function(){this.showAll()}}),d=u,f=(r("a03f"),r("2877")),p=Object(f["a"])(d,c,l,!1,null,null,null),m=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row cart",attrs:{id:"cart"}},[n("b-card",{staticClass:"mb-2",attrs:{tag:"article"}},[n("div",{staticClass:"cart-part head"},[n("h3",{staticClass:"title"},[t._v("Carrinho")])]),n("div",{staticClass:"cart-part body",attrs:{id:"cart-body"}},[null==t.cartItems?n("b-img",{attrs:{src:r("3cad"),fluid:"",alt:"Cart Image"}}):t._e(),null==t.cartItems?n("b-card-text",{staticClass:"text"},[t._v("Até o momento seu carrinho está vazio")]):t._e(),t._l(t.cartItems,(function(e){return n("div",{key:e.id,staticClass:"mini-card"},[n("b-icon",{staticClass:"remove-icon",attrs:{icon:"plus-circle-fill"},on:{click:function(r){return t.remove(e.id,e.name)}}}),n("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[n("b-row",{attrs:{"no-gutters":""}},[n("b-col",{staticClass:"img-holder",attrs:{md:"4"}},[n("b-card-img",{staticClass:"rounded-0 game-img",attrs:{src:r("1771")("./"+e.image),alt:"Image"}})],1),n("b-col",{attrs:{md:"8"}},[n("b-card-body",{attrs:{title:e.name}},[n("b-card-text",[t._v("R$ "+t._s(e.price))])],1)],1)],1)],1)],1)}))],2),n("div",{staticClass:"values"},[n("div",{staticClass:"subtotal"},[t._v(" Subtotal "),n("span",[t._v("R$: "+t._s(t.subtotal))])]),n("div",{staticClass:"shipping"},[t._v(" Frete "),0!=t.shipping?n("span",[t._v("R$: "+t._s(t.shipping))]):t._e(),0==t.shipping?n("span",{staticStyle:{color:"green"}},[t._v("Grátis")]):t._e()]),n("div",{staticClass:"total"},[t._v(" Total "),n("span",[t._v("R$: "+t._s(t.total))])])]),n("div",{staticClass:"cart-part footer"},[n("b-button",{staticClass:"btn",attrs:{href:"#",variant:"primary"}},[t._v("Finalizar compra")])],1)])],1)},b=[],g=(r("c740"),r("d81d"),r("13d5"),r("a434"),r("b680"),r("5530")),v={name:"Cart",props:{},data:function(){return{cartVector:[],cartItems:null,shipping:"0,00",subtotal:"0,00",subtotalCalc:null,total:"0,00",totalCalc:null,itemIdRemove:null,itemIndexRemove:null}},methods:{remove:function(t,e){this.itemIndexRemove=this.cartVector.findIndex((function(e,r){if(e.id===t)return console.log(r),r})),this.cartVector.splice(this.itemIndexRemove,1),this.$bvToast.toast("foi removido do carrinho",{title:e,variant:"danger",toaster:"b-toaster-top-center"}),this.itemsUpdate()},itemsUpdate:function(){this.cartItems=Object.assign({},this.cartVector),this.valueCalcs()},valueCalcs:function(){this.cartVector.length>0?(this.shipping=(10*this.cartVector.length).toFixed(2),this.subtotalCalc=this.cartVector.map((function(t){return t.price})),this.subtotal=this.subtotalCalc.reduce((function(t,e){return t+e})),this.subtotal=this.subtotal.toFixed(2),this.subtotal>250&&(this.shipping=0),this.total=(parseFloat(this.shipping)+parseFloat(this.subtotal)).toFixed(2)):(this.shipping="0,00",this.subtotal="0,00",this.subtotalCalc=null,this.total="0,00",this.cartItems=null)}},created:function(){var t=this;H.$on("addToCartBusEvent",(function(e){t.cartVector.push(Object(g["a"])({},e)),t.cartItems=Object.assign({},t.cartVector),t.valueCalcs()}))}},w=v,C=(r("88b7"),Object(f["a"])(w,h,b,!1,null,null,null)),_=C.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-dropdown",{staticClass:"m-2",attrs:{text:t.filtro,variant:"outline-secondary"}},[r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.filtro="Preço",t.sort()}}},[t._v("Preço")]),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.filtro="Popularidade",t.sort()}}},[t._v("Popularidade")]),r("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.filtro="Ordem alfabética",t.sort()}}},[t._v("Ordem alfabética")])],1)},y=[],O={name:"Dropdown",props:{},data:function(){return{filtro:"Filtros"}},methods:{sort:function(){H.$emit("SortElements",this.filtro)}},mounted:function(){}},j=O,k=(r("61e0"),Object(f["a"])(j,x,y,!1,null,null,null)),I=k.exports,$={name:"Home",components:{GameCard:m,Cart:_,Dropdown:I},props:{},data:function(){return{}},methods:{},mounted:function(){}},E=$,V=(r("dbc2"),Object(f["a"])(E,s,o,!1,null,null,null)),P=V.exports,R={name:"App",components:{Home:P}},T=R,S=(r("034f"),Object(f["a"])(T,a,i,!1,null,null,null)),A=S.exports,F=(r("d3b7"),r("96cf"),r("1da1")),z=r("d4ec"),G=r("bee2"),D=function(){function t(){Object(z["a"])(this,t)}return Object(G["a"])(t,null,[{key:"getAll",value:function(){var t=Object(F["a"])(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new Request("https://raw.githubusercontent.com/ConsultaRemedios/frontend-challenge/master/products.json",{method:"GET"}),t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),M=(r("f9e3"),r("2dd8"),r("5f5b")),U=r("b1e0");n["default"].prototype.$controllers=D,n["default"].config.productionTip=!1;var H=new n["default"];n["default"].use(M["a"]),n["default"].use(U["a"]),new n["default"]({render:function(t){return t(A)}}).$mount("#app")},"61e0":function(t,e,r){"use strict";var n=r("334a"),a=r.n(n);a.a},"85ec":function(t,e,r){},"88b7":function(t,e,r){"use strict";var n=r("8f4f"),a=r.n(n);a.a},"8ebe":function(t,e,r){t.exports=r.p+"img/super-mario-odyssey.4ad04c13.png"},"8f4f":function(t,e,r){},9646:function(t,e,r){},a03f:function(t,e,r){"use strict";var n=r("9646"),a=r.n(n);a.a},b37f:function(t,e,r){t.exports=r.p+"img/horizon-zero-dawn.d9ecc348.png"},b6cb:function(t,e,r){t.exports=r.p+"img/mortal-kombat-xl.358b1230.png"},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},dbc2:function(t,e,r){"use strict";var n=r("4251"),a=r.n(n);a.a},df89:function(t,e,r){t.exports=r.p+"img/call-of-duty-infinite-warfare.6c60b558.png"},fa9f:function(t,e,r){t.exports=r.p+"img/shards-of-darkness.c23a7ce9.png"}});
//# sourceMappingURL=app.f3655b8b.js.map